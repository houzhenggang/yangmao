<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yangmao.dal.dao.NewYangmaoFavoritesItemMapper">
  <resultMap id="BaseResultMap" type="com.yangmao.dal.dataobj.YangmaoFavoritesItem">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 29 18:23:32 CST 2016.
    -->
    <id column="item_id" jdbcType="BIGINT" property="itemId" />
    <result column="num_iid" jdbcType="BIGINT" property="numIid" />
    <result column="yangmao_favorites_id" jdbcType="BIGINT" property="yangmaoFavoritesId" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="item_url" jdbcType="VARCHAR" property="itemUrl" />
    <result column="pict_url" jdbcType="VARCHAR" property="pictUrl" />
    <result column="item_images" jdbcType="VARCHAR" property="itemImages" />
    <result column="nick" jdbcType="VARCHAR" property="nick" />
    <result column="seller_id" jdbcType="BIGINT" property="sellerId" />
    <result column="shop_title" jdbcType="VARCHAR" property="shopTitle" />
    <result column="provcity" jdbcType="VARCHAR" property="provcity" />
    <result column="original_price" jdbcType="DECIMAL" property="originalPrice" />
    <result column="final_price" jdbcType="DECIMAL" property="finalPrice" />
    <result column="final_price_wap" jdbcType="DECIMAL" property="finalPriceWap" />
    <result column="click_url" jdbcType="VARCHAR" property="clickUrl" />
    <result column="tk_rate" jdbcType="DECIMAL" property="tkRate" />
    <result column="volume" jdbcType="INTEGER" property="volume" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="last_update_time" jdbcType="TIMESTAMP" property="lastUpdateTime" />
  </resultMap>

  <select id="selectFavoritesItemsListByCreateTimeAndId" parameterType="java.util.Map" resultMap="BaseResultMap">
    SELECT item_id,num_iid,title,pict_url,nick,original_price,final_price,volume
    FROM yangmao.yangmao_favorites_item
    where yangmao_favorites_id = #{favoritesId}
    and create_time <![CDATA[>=]]> #{startTime}
    and create_time <![CDATA[<=]]> #{endTime}
  </select>

  <resultMap id="newResultMap" type="com.yangmao.model.admin.dto.FavoritesItemsModel">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 29 18:23:32 CST 2016.
    -->
    <id column="item_id" jdbcType="BIGINT" property="itemId" />
    <result column="num_iid" jdbcType="BIGINT" property="numIid" />
    <result column="yangmao_favorites_id" jdbcType="BIGINT" property="yangmaoFavoritesId" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="item_url" jdbcType="VARCHAR" property="itemUrl" />
    <result column="pict_url" jdbcType="VARCHAR" property="pictUrl" />
    <result column="item_images" jdbcType="VARCHAR" property="itemImages" />
    <result column="nick" jdbcType="VARCHAR" property="nick" />
    <result column="seller_id" jdbcType="BIGINT" property="sellerId" />
    <result column="shop_title" jdbcType="VARCHAR" property="shopTitle" />
    <result column="provcity" jdbcType="VARCHAR" property="provcity" />
    <result column="original_price" jdbcType="DECIMAL" property="originalPrice" />
    <result column="final_price" jdbcType="DECIMAL" property="finalPrice" />
    <result column="final_price_wap" jdbcType="DECIMAL" property="finalPriceWap" />
    <result column="click_url" jdbcType="VARCHAR" property="clickUrl" />
    <result column="image_click_url" jdbcType="VARCHAR" property="imageClickUrl" />
    <result column="tk_rate" jdbcType="DECIMAL" property="tkRate" />
    <result column="volume" jdbcType="INTEGER" property="volume" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="last_update_time" jdbcType="TIMESTAMP" property="lastUpdateTime" />
  </resultMap>

  <select id="selectFavoritesItemsListByItemsId" parameterType="java.util.Map" resultMap="newResultMap">
    SELECT item_id,num_iid,yangmao_favorites_id,title,pict_url,nick,original_price,final_price,volume,click_url,click_url as image_click_url
    FROM yangmao.yangmao_favorites_item
    where item_id IN
    <foreach close=")" collection="itemIds" item="listItem" open="(" separator=",">
      #{listItem}
    </foreach>
  </select>
</mapper>